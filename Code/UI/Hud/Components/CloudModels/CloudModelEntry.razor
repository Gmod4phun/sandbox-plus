@using Sandbox.UI;
@inherits Panel
@namespace Sandbox.UI

<root class="cell" onclick=@Spawn>
	<label class="title">@Package.Title</label>
	<img src=@Package.Thumb />
	<label class="author">@Package.Org.Title</label>
	<div class="hover-panel">
		<label class="description">
			@(string.IsNullOrWhiteSpace(Package.Description) ? (string.IsNullOrWhiteSpace(Package.Summary) ? "No description..." : Package.Summary) : Package.Description)
		</label>
		<button>deploy</button>
	</div>
</root>

@code
{
	public Package Package { get; set; }

	void Spawn()
	{
		if (Input.Down("run"))
		{
			Clipboard.SetText(Package.FullIdent);
			Log.Info($"Copied to clipboard: {Package.FullIdent}");
			return;
		}
		CloudModelList.Spawn(Package);
	}

	protected override int BuildHash() => System.HashCode.Combine(Package);
}
